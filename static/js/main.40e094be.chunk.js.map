{"version":3,"sources":["components/PageOptimization/Graph/LineChart.js","components/PageOptimization/AllList/AllList.js","components/PageOptimization/Graph/PageDetailLineChart.js","components/PageOptimization/Graph/Radar.js","components/PageOptimization/DetailModel/DetailModal.js","components/PageOptimization/AccumulationOfOptimizationPage/AccumulationOfOptimizationPage.js","components/PageOptimization/AverageOfOptimization/AverageOfOptimization.js","components/PageOptimization/ComparePage/ComparePage.js","components/PageOptimization/RankOfPage/RankOfPage.js","components/PageOptimization/TrackingPage/TrackingPage.js","components/PageOptimization/ApiCaller.js","components/PageOptimization/PageOptimization.js","components/Nav/Nav.js","App.js","features/counter/counterAPI.js","features/counter/counterSlice.js","app/store.js","serviceWorker.js","index.js"],"names":["lineChart","allTasks","indicatorData","ComposedChart","width","height","data","margin","top","right","bottom","left","CartesianGrid","stroke","XAxis","dataKey","scale","YAxis","Tooltip","ReferenceLine","y","label","strokeDasharray","Legend","payload","value","id","Bar","x","parseFloat","gsx$efficiency","$t","barSize","fill","Line","type","AllList","setTargetTask","className","map","task","index","onClick","gsx$pagename","gsx$createtime","PageDetailLineChart","pageData","indicatorName","ResponsiveContainer","mirror","tick","hide","axisLine","verticalAlign","activeDot","r","dot","radar","averageData","Object","entries","key","push","name","score","RadarChart","outerRadius","PolarGrid","PolarAngleAxis","PolarRadiusAxis","angle","domain","Radar","fillOpacity","DetailModal","pageName","openModal","setOpenModal","style","display","item","AccumulationOfOptimizationPage","projectCount","AverageOfOptimization","ComparePage","mostEfficientPage","RankOfPage","slice","color","TrackingPage","page","tagClick","PageUrl","window","location","hostname","ApiCaller","url","axios","get","FetchOptimizationData","FetchIndicatorData","FetchPage","PageOptimization","useState","setAllTasks","setIndicatorData","setPage","setPageData","setMostEfficientPage","setProjectCount","setPageName","setAverageData","useEffect","then","feed","entry","length","gsx$efficiencyaverage","getAllScore","getAverageScore","res","_id","Nav","useLocation","to","pathname","App","path","exact","component","fetchCount","amount","Promise","resolve","setTimeout","createAsyncThunk","a","response","counterSlice","createSlice","initialState","status","reducers","increment","state","decrement","incrementByAmount","action","actions","store","configureStore","reducer","counter","counterReducer","Boolean","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.40e094be.chunk.js","sourcesContent":["import { ComposedChart, ReferenceLine, Line, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend } from 'recharts';\nconst lineChart = ({ allTasks, indicatorData }) => {\n    return (\n        <ComposedChart\n            width={900}\n            height={270}\n            data={allTasks}\n            margin={{\n                top: 20,\n                right: 20,\n                bottom: 20,\n                left: 20,\n            }}\n        >\n            <CartesianGrid stroke=\"#f5f5f5\" />\n            <XAxis dataKey=\"gsx$pagename.$t\" scale=\"band\"></XAxis>\n            {/* <YAxis domain={[0, 'dataMax + 50']} allowDataOverflow={true} /> */}\n            <YAxis />\n            <Tooltip />\n            <ReferenceLine y={indicatorData} label=\"Average\" stroke=\"red\" strokeDasharray=\"3 3\" />\n            <Legend payload={{ value: '123', id: 1 }} />\n            <Bar dataKey={(x) => parseFloat(x.gsx$efficiency.$t)} barSize={20} fill=\"#ff7f2f\" />\n            <Line type=\"monotone\" dataKey=\"gsx$efficiency.$t\" stroke=\"#413ea0\" />\n        </ComposedChart>\n    );\n};\n\nexport default lineChart;\n","import './style/AllList.css';\n\nconst AllList = ({ allTasks, setTargetTask }) => {\n    return (\n        <div className=\"list-box\">\n            {allTasks.map((task, index) => (\n                <div\n                    className=\"list\"\n                    onClick={() => {\n                        setTargetTask(task);\n                    }}\n                    key={index}\n                >\n                    <div className=\"text\">{task.gsx$pagename.$t}</div>\n                    <div className=\"text page-score\">{task.gsx$efficiency.$t}%</div>\n                    <div className=\"create-time\">{task.gsx$createtime.$t}</div>\n                </div>\n            ))}\n        </div>\n    );\n};\n\nexport default AllList;\n","import { ResponsiveContainer, LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend } from 'recharts';\nconst PageDetailLineChart = ({ pageData, indicatorName }) => {\n    return (\n        <ResponsiveContainer width=\"100%\">\n            <LineChart\n                width={343}\n                height={130}\n                data={pageData}\n                margin={{\n                    top: 20,\n                    right: 30,\n                    left: 5,\n                    bottom: 0,\n                }}\n            >\n                <CartesianGrid strokeDasharray=\"3 3\" />\n                <XAxis mirror={true} tick={false} hide=\"true\" dataKey=\"createdAt\" />\n                <YAxis axisLine={false} />\n                <Tooltip />\n                <Legend verticalAlign=\"bottom\" height={20} />\n                <Line type=\"monotone\" dataKey={indicatorName} stroke=\"#d9812f\" activeDot={{ r: 4 }} dot={false} />\n            </LineChart>\n        </ResponsiveContainer>\n    );\n};\n\nexport default PageDetailLineChart;\n","import { Radar, RadarChart, PolarGrid, Legend, PolarAngleAxis, PolarRadiusAxis, ResponsiveContainer } from 'recharts';\n\nconst radar = ({ averageData }) => {\n    let data = [];\n    for (let [key, value] of Object.entries(averageData)) {\n        // console.log(key, value);\n        data.push({ name: key, score: value });\n    }\n\n    return (\n        <ResponsiveContainer width=\"100%\" height=\"100%\">\n            <RadarChart outerRadius=\"80%\" data={data}>\n                <PolarGrid />\n                <PolarAngleAxis dataKey=\"name\" />\n                <PolarRadiusAxis angle={30} domain={[0, 1]} />\n                <Radar name=\"Average\" dataKey=\"score\" stroke=\"#8884d8\" fill=\"#8884d8\" fillOpacity={0.6} />\n                <Legend />\n            </RadarChart>\n        </ResponsiveContainer>\n    );\n};\n\nexport default radar;\n","import PageDetailLineChart from '../Graph/PageDetailLineChart';\nimport MyRadar from '../Graph/Radar';\nimport './style/PageDetailModal.css';\nconst DetailModal = ({ pageName, pageData, averageData, openModal, setOpenModal }) => {\n    const variable = ['CLS', 'FCP', 'FMP', 'LCP', 'SI', 'TBT'];\n\n    return (\n        <div className=\"modal-box\" style={{ display: openModal ? 'block' : 'none' }}>\n            <div className=\"page-detail-modal\">\n                <div className=\"cancel-icon\" onClick={() => setOpenModal(false)}></div>\n\n                <div className=\"overall\">\n                    <div className=\"main\">{pageName}</div>\n                    <MyRadar averageData={averageData}></MyRadar>\n                </div>\n                <div className=\"graph-box\">\n                    {variable.map((item, index) => (\n                        <div key={index}>\n                            <div className=\"graph-text\">{item}</div>\n                            <div className=\"graph-content\">\n                                <PageDetailLineChart pageData={pageData} indicatorName={item}></PageDetailLineChart>\n                            </div>\n                        </div>\n                    ))}\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default DetailModal;\n","const AccumulationOfOptimizationPage = ({ projectCount }) => {\n    return (\n        <div className=\"inter\">\n            <div className=\"accumulate-icon\"></div>\n            <div>\n                <div className=\"inter-title\">目前累積優化頁面</div>\n                <div className=\"inter-value\">{projectCount}件</div>\n            </div>\n        </div>\n    );\n};\n\nexport default AccumulationOfOptimizationPage;\n","const AverageOfOptimization = ({ indicatorData }) => {\n    return (\n        <div className=\"inter\">\n            <div className=\"average-icon\"></div>\n            <div>\n                <div className=\"inter-title\">優化平均成長</div>\n                <div className=\"inter-value\">{indicatorData}％</div>\n                <div className=\"inter-content\">備註：效率平均值</div>\n            </div>\n        </div>\n    );\n};\n\nexport default AverageOfOptimization;\n","const ComparePage = ({ mostEfficientPage }) => {\n    return (\n        <div className=\"inter\">\n            <div className=\"compare-icon\"></div>\n            <div>\n                <div className=\"inter-title\">優化前後差異最高網頁</div>\n                <div className=\"inter-value\">{mostEfficientPage}</div>\n                <div className=\"inter-content\">備註：無</div>\n            </div>\n        </div>\n    );\n};\n\nexport default ComparePage;\n","const RankOfPage = ({ allTasks }) => {\n    return (\n        <div className=\"page-count\">\n            <div className=\"title\">\n                <div className=\"rank-icon\"></div>\n                <div className=\"title-text\">網頁優化效率提升排名</div>\n            </div>\n            {allTasks.slice(0, 8).map((task, index) => (\n                <div key={index} className=\"rank-content\" style={{ color: index < 3 ? '#ff7f2f' : '#c0c0c0' }}>\n                    <div className=\"rank-num\">{index + 1}</div>\n                    <div className=\"rank-name\">{task.gsx$pagename.$t}</div>\n                    <div className=\"rank-score\">{task.gsx$efficiency.$t}%</div>\n                </div>\n            ))}\n        </div>\n    );\n};\n\nexport default RankOfPage;\n","const TrackingPage = ({ page, tagClick }) => {\n    return (\n        <div className=\"inter\">\n            <div className=\"trace-icon\"></div>\n            <div>\n                <div className=\"inter-title\">正在追蹤的網頁</div>\n                <div className=\"tag-box\">\n                    {page.map((page, index) => (\n                        <div className=\"tag\" key={index} onClick={() => tagClick(page.pageName)}>\n                            {page.name}\n                        </div>\n                    ))}\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default TrackingPage;\n","import axios from 'axios';\n\nconst PageUrl = window.location.hostname === 'localhost' ? 'http://localhost:3001' : 'https://kpi-node.herokuapp.com';\n\n//From Google Sheet\nconst OptimizationDataUrl =\n    'https://spreadsheets.google.com/feeds/list/1pCvD5tJAirXHWGC4CRDkaLsedSlopYCTkkynSq4RbxI/2/public/values?alt=json';\nconst IndicatorDataUrl =\n    'https://spreadsheets.google.com/feeds/list/1pCvD5tJAirXHWGC4CRDkaLsedSlopYCTkkynSq4RbxI/3/public/values?alt=json';\n\nconst ApiCaller = (url) => {\n    return axios.get(url);\n};\n\n//Get Google Sheet Data\nconst FetchOptimizationData = ApiCaller(OptimizationDataUrl);\nconst FetchIndicatorData = ApiCaller(IndicatorDataUrl);\n\n//Get Mongodb Data\nconst FetchPage = ApiCaller(`${PageUrl}/all-page-name`);\nconst getAllScore = (pageName) => ApiCaller(`${PageUrl}/all-score/${pageName}`);\nconst getAverageScore = (pageName) => ApiCaller(`${PageUrl}/average-score/${pageName}`);\n\nexport { FetchOptimizationData, FetchIndicatorData, FetchPage, getAllScore, getAverageScore };\n","import MyLineChart from './Graph/LineChart';\nimport AllList from './AllList/AllList';\nimport DetailModal from './DetailModel/DetailModal';\nimport { useState, useEffect } from 'react';\nimport './PageOptimization.css';\nimport axios from 'axios';\nimport AccumulationOfOptimizationPage from './AccumulationOfOptimizationPage/AccumulationOfOptimizationPage';\nimport AverageOfOptimization from './AverageOfOptimization/AverageOfOptimization';\nimport ComparePage from './ComparePage/ComparePage';\nimport RankOfPage from './RankOfPage/RankOfPage';\nimport TrackingPage from './TrackingPage/TrackingPage';\nimport { FetchOptimizationData, FetchIndicatorData, FetchPage, getAllScore, getAverageScore } from './ApiCaller';\n\nconst PageOptimization = () => {\n    const [allTasks, setAllTasks] = useState([]); //所有專案優化紀錄\n    // const [targetTask, setTargetTask] = useState({});\n    const [indicatorData, setIndicatorData] = useState(''); //指標數字，如：效能平均\n    const [page, setPage] = useState([]); //所有的監控頁面\n    const [pageData, setPageData] = useState([]); //監控頁面詳細數字，如：FCP、TTB等\n    const [mostEfficientPage, setMostEfficientPage] = useState(''); //優化效率最高值\n    const [openModal, setOpenModal] = useState(false); //開啟modal\n    const [projectCount, setProjectCount] = useState(0); //累積優化件數\n    const [pageName, setPageName] = useState('');\n    const [averageData, setAverageData] = useState({});\n\n    //function\n    const tagClick = (pageName) => {\n        getAllScore(pageName).then(({ data }) => {\n            setPageData(data);\n            setPageName(pageName);\n        });\n        getAverageScore(pageName).then(({ data }) => {\n            const { _id, ...res } = data[0];\n            setAverageData(res);\n        });\n        setOpenModal(true);\n    };\n\n    //fetch fixed data\n    useEffect(() => {\n        FetchOptimizationData.then(({ data }) => {\n            setProjectCount(data.feed.entry.length);\n            setAllTasks(data.feed.entry);\n            setMostEfficientPage(data.feed.entry[0].gsx$pagename.$t);\n        });\n        FetchIndicatorData.then(({ data }) => {\n            setIndicatorData(data.feed.entry[0].gsx$efficiencyaverage.$t);\n        });\n        FetchPage.then(({ data }) => {\n            setPage(data);\n        });\n    }, []);\n\n    return (\n        <div className=\"container\">\n            <div className=\"topic\">Optimization</div>\n\n            <div className=\"page-optimization\">\n                {/* <Form allTasks={allTasks} setAllTasks={setAllTasks}></Form> */}\n                {/* <MyBarChart allTasks={allTasks} targetTask={targetTask}></MyBarChart> */}\n                <div>\n                    <div className=\"graph-up\">\n                        <div className=\"indicator\">\n                            <AccumulationOfOptimizationPage projectCount={projectCount} />\n                            <AverageOfOptimization indicatorData={indicatorData} />\n                        </div>\n                        <div className=\"indicator\">\n                            <TrackingPage page={page} tagClick={tagClick}></TrackingPage>\n                            <ComparePage mostEfficientPage={mostEfficientPage}></ComparePage>\n                        </div>\n                        <RankOfPage allTasks={allTasks}></RankOfPage>\n                    </div>\n                    <div className=\"line-chart-container\">\n                        <div className=\"inter\">\n                            <div className=\"indicator-icon\"></div>\n                            <div className=\"inter-title\">專案績效分佈</div>\n                        </div>\n                        <MyLineChart indicatorData={indicatorData} allTasks={allTasks}></MyLineChart>\n                    </div>\n                </div>\n                <div className=\"all-list-container\">\n                    <AllList allTasks={allTasks}></AllList>\n                </div>\n            </div>\n            <DetailModal\n                setOpenModal={setOpenModal}\n                pageName={pageName}\n                openModal={openModal}\n                page={page}\n                pageData={pageData}\n                averageData={averageData}\n            ></DetailModal>\n        </div>\n    );\n};\n\nexport default PageOptimization;\n","import { Link, useLocation } from 'react-router-dom';\nimport './Nav.css';\nconst Nav = () => {\n    const location = useLocation();\n\n    return (\n        <nav className=\"nav-bar\">\n            <Link to=\"/\" className={location.pathname === '/' ? 'active' : ''}>\n                Overview\n            </Link>\n            <Link to=\"/project\" className={location.pathname === '/project' ? 'active' : ''}>\n                Project\n            </Link>\n            <Link to=\"/optimization\" className={location.pathname === '/optimization' ? 'active' : ''}>\n                Optimization\n            </Link>\n        </nav>\n    );\n};\n\nexport default Nav;\n","import { Route } from 'react-router-dom';\nimport PageOptimization from './components/PageOptimization/PageOptimization';\nimport Nav from './components/Nav/Nav';\n\nfunction App() {\n    return (\n        <div className=\"App\">\n            <Nav />\n            <Route path=\"/\" exact={true}></Route>\n            <Route path=\"/optimization\" exact={true} component={PageOptimization}></Route>\n            {/* <header className=\"App-header\"><Counter /></header> */}\n            {/* <Route component={Error} /> */}\n        </div>\n    );\n}\n\nexport default App;\n","// A mock function to mimic making an async request for data\nexport function fetchCount(amount = 1) {\n  return new Promise((resolve) =>\n    setTimeout(() => resolve({ data: amount }), 500)\n  );\n}\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport { fetchCount } from './counterAPI';\n\nconst initialState = {\n    value: 0,\n    status: 'idle',\n};\n\n// The function below is called a thunk and allows us to perform async logic. It\n// can be dispatched like a regular action: `dispatch(incrementAsync(10))`. This\n// will call the thunk with the `dispatch` function as the first argument. Async\n// code can then be executed and other actions can be dispatched. Thunks are\n//  typically used to make async requests.\nexport const incrementAsync = createAsyncThunk('counter/fetchCount', async (amount) => {\n    const response = await fetchCount(amount);\n    // The value we return becomes the `fulfilled` action payload\n    return response.data;\n});\n\nexport const counterSlice = createSlice({\n    name: 'counter',\n    initialState,\n    // The `reducers` field lets us define reducers and generate associated actions\n    reducers: {\n        increment: (state) => {\n            state.value += 1;\n        },\n        decrement: (state) => {\n            state.value -= 1;\n        },\n        incrementByAmount: (state, action) => {\n            state.value += action.payload;\n        },\n    },\n});\n\nexport const { increment, decrement, incrementByAmount } = counterSlice.actions;\n\nexport const selectCount = (state) => state.counter.value;\n\nexport const incrementIfOdd = (amount) => (dispatch, getState) => {\n    const currentValue = selectCount(getState());\n    if (currentValue % 2 === 1) {\n        dispatch(incrementByAmount(amount));\n    }\n};\n\nexport default counterSlice.reducer;\n","import { configureStore } from '@reduxjs/toolkit';\nimport counterReducer from '../features/counter/counterSlice';\n\nexport const store = configureStore({\n  reducer: {\n    counter: counterReducer,\n  },\n});\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { store } from './app/store';\nimport { Provider } from 'react-redux';\nimport * as serviceWorker from './serviceWorker';\nimport { HashRouter, Switch } from 'react-router-dom';\n\nReactDOM.render(\n    <React.StrictMode>\n        <Provider store={store}>\n            <HashRouter>\n                <Switch>\n                    <App />\n                </Switch>\n            </HashRouter>\n        </Provider>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}