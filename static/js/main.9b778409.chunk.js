(this["webpackJsonpkpi-app"]=this["webpackJsonpkpi-app"]||[]).push([[0],{213:function(e,t,a){},347:function(e,t,a){},352:function(e,t,a){},353:function(e,t,a){},371:function(e,t,a){},375:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),s=a(57),i=a.n(s),r=(a(213),a(20)),j=a(204),l=a(19),o=a(385),d=a(379),b=a(100),O=a(101),u=a(83),x=a(184),m=a(81),h=a(191),v=a(97),p=a(2),f=function(e){var t=e.allTasks,a=e.indicatorData;return Object(p.jsxs)(o.a,{width:900,height:270,data:t,margin:{top:20,right:20,bottom:20,left:20},children:[Object(p.jsx)(d.a,{stroke:"#f5f5f5"}),Object(p.jsx)(b.a,{dataKey:"gsx$pagename.$t",scale:"band"}),Object(p.jsx)(O.a,{}),Object(p.jsx)(u.a,{}),Object(p.jsx)(x.a,{y:a,label:"Average",stroke:"red",strokeDasharray:"3 3"}),Object(p.jsx)(m.a,{payload:{value:"123",id:1}}),Object(p.jsx)(h.a,{dataKey:function(e){return parseFloat(e.gsx$efficiency.$t)},barSize:20,fill:"#ff7f2f"}),Object(p.jsx)(v.a,{type:"monotone",dataKey:"gsx$efficiency.$t",stroke:"#413ea0"})]})},g=(a(347),function(e){var t=e.allTasks;e.setTargetTask;return Object(p.jsx)("div",{className:"list-box",children:t.map((function(e,t){return Object(p.jsxs)("div",{className:"list",children:[Object(p.jsx)("div",{className:"text",children:e.gsx$pagename.$t}),Object(p.jsxs)("div",{className:"text page-score",children:[e.gsx$efficiency.$t,"%"]}),Object(p.jsx)("div",{className:"create-time",children:e.gsx$createtime.$t})]},t)}))})}),N=a(380),k=a(381),y=function(e){var t=e.pageData,a=e.indicatorName;return Object(p.jsx)(N.a,{width:"100%",children:Object(p.jsxs)(k.a,{width:343,height:130,data:t,margin:{top:20,right:30,left:5,bottom:0},children:[Object(p.jsx)(d.a,{strokeDasharray:"3 3"}),Object(p.jsx)(b.a,{mirror:!0,tick:!1,hide:"true",dataKey:"createdAt"}),Object(p.jsx)(O.a,{axisLine:!1}),Object(p.jsx)(u.a,{}),Object(p.jsx)(m.a,{verticalAlign:"bottom",height:20}),Object(p.jsx)(v.a,{type:"monotone",dataKey:a,stroke:"#d9812f",activeDot:{r:4},dot:!1})]})})},$=a(382),D=a(383),w=a(195),C=a(196),S=a(193),T=function(e){for(var t=e.averageData,a=[],c=0,n=Object.entries(t);c<n.length;c++){var s=Object(l.a)(n[c],2),i=s[0],r=s[1];a.push({name:i,score:r})}return Object(p.jsx)(N.a,{width:"100%",height:"100%",children:Object(p.jsxs)($.a,{outerRadius:"80%",data:a,children:[Object(p.jsx)(D.a,{}),Object(p.jsx)(w.a,{dataKey:"name"}),Object(p.jsx)(C.a,{angle:30,domain:[0,1]}),Object(p.jsx)(S.a,{name:"Average",dataKey:"score",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.6}),Object(p.jsx)(m.a,{})]})})},A=(a(352),function(e){var t=e.pageName,a=e.pageData,c=e.averageData,n=e.openModal,s=e.setOpenModal;return Object(p.jsx)("div",{className:"modal-box",style:{display:n?"block":"none"},children:Object(p.jsxs)("div",{className:"page-detail-modal",children:[Object(p.jsx)("div",{className:"cancel-icon",onClick:function(){return s(!1)}}),Object(p.jsxs)("div",{className:"overall",children:[Object(p.jsx)("div",{className:"main",children:t}),Object(p.jsx)(T,{averageData:c})]}),Object(p.jsx)("div",{className:"graph-box",children:["CLS","FCP","FMP","LCP","SI","TBT"].map((function(e,t){return Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:"graph-text",children:e}),Object(p.jsx)("div",{className:"graph-content",children:Object(p.jsx)(y,{pageData:a,indicatorName:e})})]},t)}))})]})})}),z=(a(353),function(e){var t=e.projectCount;return Object(p.jsxs)("div",{className:"inter",children:[Object(p.jsx)("div",{className:"accumulate-icon"}),Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:"inter-title",children:"\u76ee\u524d\u7d2f\u7a4d\u512a\u5316\u9801\u9762"}),Object(p.jsxs)("div",{className:"inter-value",children:[t,"\u4ef6"]})]})]})}),K=function(e){var t=e.indicatorData;return Object(p.jsxs)("div",{className:"inter",children:[Object(p.jsx)("div",{className:"average-icon"}),Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:"inter-title",children:"\u512a\u5316\u5e73\u5747\u6210\u9577"}),Object(p.jsxs)("div",{className:"inter-value",children:[t,"\uff05"]}),Object(p.jsx)("div",{className:"inter-content",children:"\u5099\u8a3b\uff1a\u6548\u7387\u5e73\u5747\u503c"})]})]})},P=function(e){var t=e.mostEfficientPage;return Object(p.jsxs)("div",{className:"inter",children:[Object(p.jsx)("div",{className:"compare-icon"}),Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:"inter-title",children:"\u512a\u5316\u524d\u5f8c\u5dee\u7570\u6700\u9ad8\u7db2\u9801"}),Object(p.jsx)("div",{className:"inter-value",children:t}),Object(p.jsx)("div",{className:"inter-content",children:"\u5099\u8a3b\uff1a\u7121"})]})]})},M=function(e){var t=e.allTasks;return Object(p.jsxs)("div",{className:"page-count",children:[Object(p.jsxs)("div",{className:"title",children:[Object(p.jsx)("div",{className:"rank-icon"}),Object(p.jsx)("div",{className:"title-text",children:"\u7db2\u9801\u512a\u5316\u6548\u7387\u63d0\u5347\u6392\u540d"})]}),t.slice(0,8).map((function(e,t){return Object(p.jsxs)("div",{className:"rank-content",style:{color:t<3?"#ff7f2f":"#c0c0c0"},children:[Object(p.jsx)("div",{className:"rank-num",children:t+1}),Object(p.jsx)("div",{className:"rank-name",children:e.gsx$pagename.$t}),Object(p.jsxs)("div",{className:"rank-score",children:[e.gsx$efficiency.$t,"%"]})]},t)}))]})},B=function(e){var t=e.page,a=e.tagClick;return Object(p.jsxs)("div",{className:"inter",children:[Object(p.jsx)("div",{className:"trace-icon"}),Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:"inter-title",children:"\u6b63\u5728\u8ffd\u8e64\u7684\u7db2\u9801"}),Object(p.jsx)("div",{className:"tag-box",children:t.map((function(e,t){return Object(p.jsx)("div",{className:"tag",onClick:function(){return a(e.pageName)},children:e.name},t)}))})]})]})},L=a(199),R=a.n(L),E="localhost"===window.location.hostname?"http://localhost:3001":"https://kpi-node.herokuapp.com",I=function(e){return R.a.get(e)},J=I("https://spreadsheets.google.com/feeds/list/1pCvD5tJAirXHWGC4CRDkaLsedSlopYCTkkynSq4RbxI/2/public/values?alt=json"),W=I("https://spreadsheets.google.com/feeds/list/1pCvD5tJAirXHWGC4CRDkaLsedSlopYCTkkynSq4RbxI/3/public/values?alt=json"),F=I("".concat(E,"/all-page-name")),q=function(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)(0),i=Object(l.a)(s,2),r=i[0],o=i[1],d=Object(c.useState)([]),b=Object(l.a)(d,2),O=b[0],u=b[1],x=Object(c.useState)([]),m=Object(l.a)(x,2),h=m[0],v=m[1],N=Object(c.useState)(""),k=Object(l.a)(N,2),y=k[0],$=k[1],D=Object(c.useState)(!1),w=Object(l.a)(D,2),C=w[0],S=w[1],T=Object(c.useState)(0),L=Object(l.a)(T,2),R=L[0],q=L[1],G=Object(c.useState)(""),H=Object(l.a)(G,2),X=H[0],Y=H[1],_=Object(c.useState)({}),Q=Object(l.a)(_,2),U=Q[0],V=Q[1];return Object(c.useEffect)((function(){J.then((function(e){var t=e.data;q(t.feed.entry.length),n(t.feed.entry),$(t.feed.entry[0].gsx$pagename.$t)})),W.then((function(e){var t=e.data;o(t.feed.entry[0].gsx$efficiencyaverage.$t)})),F.then((function(e){var t=e.data;u(t)}))}),[]),Object(p.jsxs)("div",{className:"container",children:[Object(p.jsx)("div",{className:"topic",children:"Optimization"}),Object(p.jsxs)("div",{className:"page-optimization",children:[Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{className:"graph-up",children:[Object(p.jsxs)("div",{className:"indicator",children:[Object(p.jsx)(z,{projectCount:R}),Object(p.jsx)(K,{indicatorData:r})]}),Object(p.jsxs)("div",{className:"indicator",children:[Object(p.jsx)(B,{page:O,tagClick:function(e){(function(e){return I("".concat(E,"/all-score/").concat(e))})(e).then((function(t){var a=t.data;v(a),Y(e)})),function(e){return I("".concat(E,"/average-score/").concat(e))}(e).then((function(e){var t=e.data[0],a=(t._id,Object(j.a)(t,["_id"]));V(a)})),S(!0)}}),Object(p.jsx)(P,{mostEfficientPage:y})]}),Object(p.jsx)(M,{allTasks:a})]}),Object(p.jsxs)("div",{className:"line-chart-container",children:[Object(p.jsxs)("div",{className:"inter",children:[Object(p.jsx)("div",{className:"indicator-icon"}),Object(p.jsx)("div",{className:"inter-title",children:"\u5c08\u6848\u7e3e\u6548\u5206\u4f48"})]}),Object(p.jsx)(f,{indicatorData:r,allTasks:a})]})]}),Object(p.jsx)("div",{className:"all-list-container",children:Object(p.jsx)(g,{allTasks:a})})]}),Object(p.jsx)(A,{setOpenModal:S,pageName:X,openModal:C,pageData:h,averageData:U})]})},G=a(61),H=(a(371),function(){var e=Object(r.f)();return Object(p.jsxs)("nav",{className:"nav-bar",children:[Object(p.jsx)(G.b,{to:"/",className:"/"===e.pathname?"active":"",children:"Overview"}),Object(p.jsx)(G.b,{to:"/project",className:"/project"===e.pathname?"active":"",children:"Project"}),Object(p.jsx)(G.b,{to:"/optimization",className:"/optimization"===e.pathname?"active":"",children:"Optimization"})]})});var X=function(){return Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)(H,{}),Object(p.jsx)(r.a,{path:"/",exact:!0}),Object(p.jsx)(r.a,{path:"/optimization",exact:!0,component:q})]})},Y=a(80),_=a(71),Q=a.n(_),U=a(200);function V(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return new Promise((function(t){return setTimeout((function(){return t({data:e})}),500)}))}Object(Y.b)("counter/fetchCount",function(){var e=Object(U.a)(Q.a.mark((function e(t){var a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V(t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var Z=Object(Y.c)({name:"counter",initialState:{value:0,status:"idle"},reducers:{increment:function(e){e.value+=1},decrement:function(e){e.value-=1},incrementByAmount:function(e,t){e.value+=t.payload}}}),ee=Z.actions,te=(ee.increment,ee.decrement,ee.incrementByAmount,Z.reducer),ae=Object(Y.a)({reducer:{counter:te}}),ce=a(202);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(p.jsx)(n.a.StrictMode,{children:Object(p.jsx)(ce.a,{store:ae,children:Object(p.jsx)(G.a,{children:Object(p.jsx)(r.c,{children:Object(p.jsx)(X,{})})})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[375,1,2]]]);
//# sourceMappingURL=main.9b778409.chunk.js.map