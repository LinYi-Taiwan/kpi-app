(this["webpackJsonpkpi-app"]=this["webpackJsonpkpi-app"]||[]).push([[0],{213:function(e,t,a){},214:function(e,t,a){},352:function(e,t,a){},353:function(e,t,a){},354:function(e,t,a){},355:function(e,t,a){},356:function(e,t,a){},357:function(e,t,a){},358:function(e,t,a){},359:function(e,t,a){},377:function(e,t,a){},381:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),s=a(57),i=a.n(s),r=(a(213),a(20)),j=a(204),l=a(19),o=(a(214),a(2)),d=function(e){var t=e.allTasks;e.setTargetTask;return Object(o.jsx)("div",{className:"list-box",children:t.map((function(e,t){return Object(o.jsxs)("div",{className:"list",children:[Object(o.jsx)("div",{className:"text",children:e.gsx$pagename.$t}),Object(o.jsxs)("div",{className:"text page-score",children:[e.gsx$efficiency.$t,"%"]}),Object(o.jsx)("div",{className:"create-time",children:e.gsx$createtime.$t})]},t)}))})},b=a(382),O=a(383),u=a(387),x=a(99),m=a(100),h=a(83),v=a(81),f=a(97),p=function(e){var t=e.pageData,a=e.indicatorName;return Object(o.jsx)(b.a,{width:"100%",children:Object(o.jsxs)(O.a,{width:343,height:130,data:t,margin:{top:20,right:30,left:5,bottom:0},children:[Object(o.jsx)(u.a,{strokeDasharray:"3 3"}),Object(o.jsx)(x.a,{mirror:!0,tick:!1,hide:"true",dataKey:"createdAt"}),Object(o.jsx)(m.a,{axisLine:!1}),Object(o.jsx)(h.a,{}),Object(o.jsx)(v.a,{verticalAlign:"bottom",height:20}),Object(o.jsx)(f.a,{type:"monotone",dataKey:a,stroke:"#d9812f",activeDot:{r:4},dot:!1})]})})},g=a(388),N=a(389),k=a(194),y=a(195),D=a(192),$=function(e){for(var t=e.averageData,a=[],c=0,n=Object.entries(t);c<n.length;c++){var s=Object(l.a)(n[c],2),i=s[0],r=s[1];a.push({name:i,score:r})}return Object(o.jsx)(b.a,{width:"100%",height:"100%",children:Object(o.jsxs)(g.a,{outerRadius:"80%",data:a,children:[Object(o.jsx)(N.a,{}),Object(o.jsx)(k.a,{dataKey:"name"}),Object(o.jsx)(y.a,{angle:30,domain:[0,1]}),Object(o.jsx)(D.a,{name:"Average",dataKey:"score",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.6}),Object(o.jsx)(v.a,{})]})})},w=(a(352),function(e){var t=e.pageName,a=e.pageData,c=e.averageData,n=e.openModal,s=e.setOpenModal;return Object(o.jsx)("div",{className:"modal-box",style:{display:n?"block":"none"},children:Object(o.jsxs)("div",{className:"page-detail-modal",children:[Object(o.jsx)("div",{className:"cancel-icon",onClick:function(){return s(!1)}}),Object(o.jsxs)("div",{className:"overall",children:[Object(o.jsx)("div",{className:"main",children:t}),Object(o.jsx)($,{averageData:c})]}),Object(o.jsx)("div",{className:"graph-box",children:["CLS","FCP","FMP","LCP","SI","TBT"].map((function(e,t){return Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{className:"graph-text",children:e}),Object(o.jsx)("div",{className:"graph-content",children:Object(o.jsx)(p,{pageData:a,indicatorName:e})})]},t)}))})]})})}),C=(a(353),a(354),function(e){var t=e.projectCount;return Object(o.jsxs)("div",{className:"inter",children:[Object(o.jsx)("div",{className:"accumulate-icon"}),Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{className:"inter-title",children:"\u76ee\u524d\u7d2f\u7a4d\u512a\u5316\u9801\u9762"}),Object(o.jsxs)("div",{className:"inter-value",children:[t,"\u4ef6"]})]})]})}),S=(a(355),function(e){var t=e.indicatorData;return Object(o.jsxs)("div",{className:"inter",children:[Object(o.jsx)("div",{className:"average-icon"}),Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{className:"inter-title",children:"\u512a\u5316\u5e73\u5747\u6210\u9577"}),Object(o.jsxs)("div",{className:"inter-value",children:[t,"\uff05"]}),Object(o.jsx)("div",{className:"inter-content",children:"\u5099\u8a3b\uff1a\u6548\u7387\u5e73\u5747\u503c"})]})]})}),T=(a(356),function(e){var t=e.mostEfficientPage;return Object(o.jsxs)("div",{className:"inter",children:[Object(o.jsx)("div",{className:"compare-icon"}),Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{className:"inter-title",children:"\u512a\u5316\u524d\u5f8c\u5dee\u7570\u6700\u9ad8\u7db2\u9801"}),Object(o.jsx)("div",{className:"inter-value",children:t}),Object(o.jsx)("div",{className:"inter-content",children:"\u5099\u8a3b\uff1a\u7121"})]})]})}),A=(a(357),function(e){var t=e.allTasks;return Object(o.jsxs)("div",{className:"page-count",children:[Object(o.jsxs)("div",{className:"title",children:[Object(o.jsx)("div",{className:"rank-icon"}),Object(o.jsx)("div",{className:"title-text",children:"\u7db2\u9801\u512a\u5316\u6548\u7387\u63d0\u5347\u6392\u540d"})]}),t.slice(0,8).map((function(e,t){return Object(o.jsxs)("div",{className:"rank-content",style:{color:t<3?"#ff7f2f":"#c0c0c0"},children:[Object(o.jsx)("div",{className:"rank-num",children:t+1}),Object(o.jsx)("div",{className:"rank-name",children:e.gsx$pagename.$t}),Object(o.jsxs)("div",{className:"rank-score",children:[e.gsx$efficiency.$t,"%"]})]},t)}))]})}),z=(a(358),function(e){var t=e.page,a=e.tagClick;return Object(o.jsxs)("div",{className:"inter",children:[Object(o.jsx)("div",{className:"trace-icon"}),Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{className:"inter-title",children:"\u6b63\u5728\u8ffd\u8e64\u7684\u7db2\u9801"}),Object(o.jsx)("div",{className:"tag-box",children:t.map((function(e,t){return Object(o.jsx)("div",{className:"tag",onClick:function(){return a(e.pageName)},children:e.name},t)}))})]})]})}),K=a(391),P=a(185),M=a(198),B=function(e){var t=e.allTasks,a=e.indicatorData;return Object(o.jsxs)(K.a,{width:900,height:270,data:t,margin:{top:20,right:20,bottom:20,left:20},children:[Object(o.jsx)(u.a,{stroke:"#f5f5f5"}),Object(o.jsx)(x.a,{dataKey:"gsx$pagename.$t",scale:"band"}),Object(o.jsx)(m.a,{}),Object(o.jsx)(h.a,{}),Object(o.jsx)(P.a,{y:a,label:"Average",stroke:"red",strokeDasharray:"3 3"}),Object(o.jsx)(v.a,{payload:{value:"123",id:1}}),Object(o.jsx)(M.a,{dataKey:function(e){return parseFloat(e.gsx$efficiency.$t)},barSize:20,fill:"#ff7f2f"}),Object(o.jsx)(f.a,{type:"monotone",dataKey:"gsx$efficiency.$t",stroke:"#413ea0"})]})},L=(a(359),function(e){var t=e.indicatorData,a=e.allTasks;return Object(o.jsxs)("div",{children:[Object(o.jsxs)("div",{className:"inter",children:[Object(o.jsx)("div",{className:"indicator-icon"}),Object(o.jsx)("div",{className:"inter-title",children:"\u5c08\u6848\u7e3e\u6548\u5206\u4f48"})]}),Object(o.jsx)(B,{indicatorData:t,allTasks:a})]})}),R=a(199),E=a.n(R),I="localhost"===window.location.hostname?"http://localhost:3001":"https://kpi-node.herokuapp.com",J=function(e){return E.a.get(e)},W=J("https://spreadsheets.google.com/feeds/list/1pCvD5tJAirXHWGC4CRDkaLsedSlopYCTkkynSq4RbxI/2/public/values?alt=json"),F=J("https://spreadsheets.google.com/feeds/list/1pCvD5tJAirXHWGC4CRDkaLsedSlopYCTkkynSq4RbxI/3/public/values?alt=json"),q=J("".concat(I,"/all-page-name")),G=function(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)(0),i=Object(l.a)(s,2),r=i[0],b=i[1],O=Object(c.useState)([]),u=Object(l.a)(O,2),x=u[0],m=u[1],h=Object(c.useState)([]),v=Object(l.a)(h,2),f=v[0],p=v[1],g=Object(c.useState)(""),N=Object(l.a)(g,2),k=N[0],y=N[1],D=Object(c.useState)(!1),$=Object(l.a)(D,2),K=$[0],P=$[1],M=Object(c.useState)(0),B=Object(l.a)(M,2),R=B[0],E=B[1],G=Object(c.useState)(""),H=Object(l.a)(G,2),X=H[0],Y=H[1],_=Object(c.useState)({}),Q=Object(l.a)(_,2),U=Q[0],V=Q[1];return Object(c.useEffect)((function(){W.then((function(e){var t=e.data;E(t.feed.entry.length),n(t.feed.entry),y(t.feed.entry[0].gsx$pagename.$t)})),F.then((function(e){var t=e.data;b(t.feed.entry[0].gsx$efficiencyaverage.$t)})),q.then((function(e){var t=e.data;m(t)}))}),[]),Object(o.jsxs)("div",{className:"container",children:[Object(o.jsx)("div",{className:"topic",children:"Optimization"}),Object(o.jsxs)("div",{className:"page-optimization",children:[Object(o.jsxs)("div",{children:[Object(o.jsxs)("div",{className:"graph-up",children:[Object(o.jsxs)("div",{className:"indicator",children:[Object(o.jsx)(C,{projectCount:R}),Object(o.jsx)(S,{indicatorData:r})]}),Object(o.jsxs)("div",{className:"indicator",children:[Object(o.jsx)(z,{page:x,tagClick:function(e){(function(e){return J("".concat(I,"/all-score/").concat(e))})(e).then((function(t){var a=t.data;p(a),Y(e)})),function(e){return J("".concat(I,"/average-score/").concat(e))}(e).then((function(e){var t=e.data[0],a=(t._id,Object(j.a)(t,["_id"]));V(a)})),P(!0)}}),Object(o.jsx)(T,{mostEfficientPage:k})]}),Object(o.jsx)(A,{allTasks:a})]}),Object(o.jsx)("div",{className:"line-chart-container",children:Object(o.jsx)(L,{indicatorData:r,allTasks:a})})]}),Object(o.jsx)("div",{className:"all-list-container",children:Object(o.jsx)(d,{allTasks:a})})]}),Object(o.jsx)(w,{setOpenModal:P,pageName:X,openModal:K,pageData:f,averageData:U})]})},H=a(61),X=(a(377),function(){var e=Object(r.f)();return Object(o.jsxs)("nav",{className:"nav-bar",children:[Object(o.jsx)(H.b,{to:"/",className:"/"===e.pathname?"active":"",children:"Overview"}),Object(o.jsx)(H.b,{to:"/project",className:"/project"===e.pathname?"active":"",children:"Project"}),Object(o.jsx)(H.b,{to:"/optimization",className:"/optimization"===e.pathname?"active":"",children:"Optimization"})]})});var Y=function(){return Object(o.jsxs)("div",{className:"App",children:[Object(o.jsx)(X,{}),Object(o.jsx)(r.a,{path:"/",exact:!0}),Object(o.jsx)(r.a,{path:"/optimization",exact:!0,component:G})]})},_=a(80),Q=a(71),U=a.n(Q),V=a(200);function Z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return new Promise((function(t){return setTimeout((function(){return t({data:e})}),500)}))}Object(_.b)("counter/fetchCount",function(){var e=Object(V.a)(U.a.mark((function e(t){var a;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z(t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var ee=Object(_.c)({name:"counter",initialState:{value:0,status:"idle"},reducers:{increment:function(e){e.value+=1},decrement:function(e){e.value-=1},incrementByAmount:function(e,t){e.value+=t.payload}}}),te=ee.actions,ae=(te.increment,te.decrement,te.incrementByAmount,ee.reducer),ce=Object(_.a)({reducer:{counter:ae}}),ne=a(202);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(o.jsx)(n.a.StrictMode,{children:Object(o.jsx)(ne.a,{store:ce,children:Object(o.jsx)(H.a,{children:Object(o.jsx)(r.c,{children:Object(o.jsx)(Y,{})})})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[381,1,2]]]);
//# sourceMappingURL=main.b1bebdd4.chunk.js.map