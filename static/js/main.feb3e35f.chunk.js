(this["webpackJsonpkpi-app"]=this["webpackJsonpkpi-app"]||[]).push([[0],{214:function(e,t,a){},352:function(e,t,a){},353:function(e,t,a){},354:function(e,t,a){},372:function(e,t,a){},376:function(e,t,a){"use strict";a.r(t);var c=a(0),s=a.n(c),n=a(59),i=a.n(n),r=(a(214),a(20)),j=a(205),l=a(17),d=(a(204),a(2)),o=(a(377),a(381)),b=a(70),O=a(71),x=a(88),m=a(86),h=a(101),u=a(387),v=a(186),p=a(104),f=function(e){var t=e.allTasks,a=e.indicatorData;return Object(d.jsxs)(u.a,{width:900,height:270,data:t,margin:{top:20,right:20,bottom:20,left:20},children:[Object(d.jsx)(o.a,{stroke:"#f5f5f5"}),Object(d.jsx)(b.a,{dataKey:"gsx$pagename.$t",scale:"band"}),Object(d.jsx)(O.a,{}),Object(d.jsx)(x.a,{}),Object(d.jsx)(v.a,{y:a,label:"Average",stroke:"red",strokeDasharray:"3 3"}),Object(d.jsx)(m.a,{payload:{value:"123",id:1}}),Object(d.jsx)(h.a,{dataKey:function(e){return parseFloat(e.gsx$efficiency.$t)},barSize:20,fill:"#ff7f2f"}),Object(d.jsx)(p.a,{type:"monotone",dataKey:"gsx$efficiency.$t",stroke:"#413ea0"})]})},g=a(382),N=a(383),k=a(384),y=a(196),$=a(197),S=a(194),D=function(e){for(var t=e.averageData,a=[],c=0,s=Object.entries(t);c<s.length;c++){var n=Object(l.a)(s[c],2),i=n[0],r=n[1];a.push({name:i,score:r})}return Object(d.jsx)(g.a,{width:"100%",height:"100%",children:Object(d.jsxs)(N.a,{outerRadius:"80%",data:a,children:[Object(d.jsx)(k.a,{}),Object(d.jsx)(y.a,{dataKey:"name"}),Object(d.jsx)($.a,{angle:30,domain:[0,1]}),Object(d.jsx)(S.a,{name:"Average",dataKey:"score",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.6}),Object(d.jsx)(m.a,{})]})})},w=(a(352),function(e){var t=e.allTasks,a=e.setTargetTask;return Object(d.jsx)("div",{className:"list-box",children:t.map((function(e,t){return Object(d.jsxs)("div",{className:"list",onClick:function(){a(e)},children:[Object(d.jsx)("div",{className:"text",children:e.gsx$pagename.$t}),Object(d.jsxs)("div",{className:"text page-score",children:[e.gsx$efficiency.$t,"%"]}),Object(d.jsx)("div",{className:"create-time",children:e.gsx$createtime.$t})]},t)}))})}),C=a(385),T=function(e){var t=e.pageData,a=e.indicatorName;return Object(d.jsx)(g.a,{width:"100%",children:Object(d.jsxs)(C.a,{width:343,height:130,data:t,margin:{top:20,right:30,left:5,bottom:0},children:[Object(d.jsx)(o.a,{strokeDasharray:"3 3"}),Object(d.jsx)(b.a,{mirror:!0,tick:!1,hide:"true",dataKey:"createdAt"}),Object(d.jsx)(O.a,{axisLine:!1}),Object(d.jsx)(x.a,{}),Object(d.jsx)(m.a,{verticalAlign:"bottom",height:20}),Object(d.jsx)(p.a,{type:"monotone",dataKey:a,stroke:"#d9812f",activeDot:{r:4},dot:!1})]})})},A=(a(353),function(e){var t=e.pageName,a=e.pageData,c=e.averageData,s=e.openModal,n=e.setOpenModal;return Object(d.jsx)("div",{className:"modal-box",style:{display:s?"block":"none"},children:Object(d.jsxs)("div",{className:"page-detail-modal",children:[Object(d.jsx)("div",{className:"cancel-icon",onClick:function(){return n(!1)}}),Object(d.jsxs)("div",{className:"overall",children:[Object(d.jsx)("div",{className:"main",children:t}),Object(d.jsx)(D,{averageData:c})]}),Object(d.jsx)("div",{className:"graph-box",children:["CLS","FCP","FMP","LCP","SI","TBT"].map((function(e,t){return Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"graph-text",children:e}),Object(d.jsx)("div",{className:"graph-content",children:Object(d.jsx)(T,{pageData:a,indicatorName:e})})]},t)}))})]})})}),z=(a(354),a(83)),K=a.n(z),M="https://kpi-node.herokuapp.com",B=function(e){return K.a.get(e)},L=B("https://spreadsheets.google.com/feeds/list/1pCvD5tJAirXHWGC4CRDkaLsedSlopYCTkkynSq4RbxI/2/public/values?alt=json"),P=B("https://spreadsheets.google.com/feeds/list/1pCvD5tJAirXHWGC4CRDkaLsedSlopYCTkkynSq4RbxI/3/public/values?alt=json"),R=B("".concat(M,"/all-page-name")),I=function(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)({}),i=Object(l.a)(n,2),r=(i[0],i[1]),o=Object(c.useState)(""),b=Object(l.a)(o,2),O=b[0],x=b[1],m=Object(c.useState)([]),h=Object(l.a)(m,2),u=h[0],v=h[1],p=Object(c.useState)([]),g=Object(l.a)(p,2),N=g[0],k=g[1],y=Object(c.useState)(""),$=Object(l.a)(y,2),S=$[0],D=$[1],C=Object(c.useState)(!1),T=Object(l.a)(C,2),z=T[0],B=T[1],I=Object(c.useState)(0),J=Object(l.a)(I,2),W=J[0],F=J[1],q=Object(c.useState)(""),E=Object(l.a)(q,2),G=E[0],H=E[1],X=Object(c.useState)({}),Y=Object(l.a)(X,2),_=Y[0],Q=Y[1];return Object(c.useEffect)((function(){L.then((function(e){var t=e.data;F(t.feed.entry.length),s(t.feed.entry),D(t.feed.entry[0].gsx$pagename.$t)})),P.then((function(e){var t=e.data;x(t.feed.entry[0].gsx$efficiencyaverage.$t)})),R.then((function(e){var t=e.data;v(t)}))}),[]),Object(d.jsxs)("div",{className:"container",children:[Object(d.jsx)("div",{className:"topic",children:"Optimization"}),Object(d.jsxs)("div",{className:"page-optimization",children:[Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:"graph-up",children:[Object(d.jsxs)("div",{className:"indicator",children:[Object(d.jsxs)("div",{className:"inter",children:[Object(d.jsx)("div",{className:"accumulate-icon"}),Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"inter-title",children:"\u76ee\u524d\u7d2f\u7a4d\u512a\u5316\u9801\u9762"}),Object(d.jsxs)("div",{className:"inter-value",children:[W,"\u4ef6"]})]})]}),Object(d.jsxs)("div",{className:"inter",children:[Object(d.jsx)("div",{className:"average-icon"}),Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"inter-title",children:"\u512a\u5316\u5e73\u5747\u6210\u9577"}),Object(d.jsxs)("div",{className:"inter-value",children:[O,"\uff05"]}),Object(d.jsx)("div",{className:"inter-content",children:"\u5099\u8a3b\uff1a\u6548\u7387\u5e73\u5747\u503c"})]})]})]}),Object(d.jsxs)("div",{className:"indicator",children:[Object(d.jsxs)("div",{className:"inter",children:[Object(d.jsx)("div",{className:"trace-icon"}),Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"inter-title",children:"\u6b63\u5728\u8ffd\u8e64\u7684\u7db2\u9801"}),Object(d.jsx)("div",{className:"tag-box",children:u.map((function(e,t){return Object(d.jsx)("div",{className:"tag",onClick:function(){return function(e){K.a.get("".concat(M,"/all-score/").concat(e)).then((function(t){var a=t.data;k(a),H(e)})),K.a.get("".concat(M,"/average-score/").concat(e)).then((function(e){var t=e.data[0],a=(t._id,Object(j.a)(t,["_id"]));Q(a)})),B(!0)}(e.pageName)},children:e.name},t)}))}),Object(d.jsx)(A,{setOpenModal:B,pageName:G,openModal:z,page:u,pageData:N,averageData:_})]})]}),Object(d.jsxs)("div",{className:"inter",children:[Object(d.jsx)("div",{className:"compare-icon"}),Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"inter-title",children:"\u512a\u5316\u524d\u5f8c\u5dee\u7570\u6700\u9ad8\u7db2\u9801"}),Object(d.jsx)("div",{className:"inter-value",children:S}),Object(d.jsx)("div",{className:"inter-content",children:"\u5099\u8a3b\uff1a\u7121"})]})]})]}),Object(d.jsx)("div",{className:"page-count",children:Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:"title",children:[Object(d.jsx)("div",{className:"rank-icon"}),Object(d.jsx)("div",{className:"title-text",children:"\u7db2\u9801\u512a\u5316\u6548\u7387\u63d0\u5347\u6392\u540d"})]}),a.slice(0,8).map((function(e,t){return Object(d.jsxs)("div",{className:"rank-content",style:{color:t<3?"#ff7f2f":"#c0c0c0"},children:[Object(d.jsx)("div",{className:"rank-num",children:t+1}),Object(d.jsx)("div",{className:"rank-name",children:e.gsx$pagename.$t}),Object(d.jsxs)("div",{className:"rank-score",children:[e.gsx$efficiency.$t,"%"]})]},t)}))]})})]}),Object(d.jsxs)("div",{className:"line-chart-container",children:[Object(d.jsxs)("div",{className:"inter",children:[Object(d.jsx)("div",{className:"indicator-icon"}),Object(d.jsx)("div",{className:"inter-title",children:"\u5c08\u6848\u7e3e\u6548\u5206\u4f48"})]}),Object(d.jsx)(f,{indicatorData:O,allTasks:a})]})]}),Object(d.jsx)("div",{className:"all-list-container",children:Object(d.jsx)(w,{allTasks:a,setTargetTask:r})})]})]})},J=a(53),W=(a(372),function(){var e=Object(r.f)();return Object(d.jsxs)("nav",{className:"nav-bar",children:[Object(d.jsx)(J.b,{to:"/",className:"/"===e.pathname?"active":"",children:"Overview"}),Object(d.jsx)(J.b,{to:"/project",className:"/project"===e.pathname?"active":"",children:"Project"}),Object(d.jsx)(J.b,{to:"/optimization",className:"/optimization"===e.pathname?"active":"",children:"Optimization"})]})});var F=function(){return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(W,{}),Object(d.jsx)(r.a,{path:"/",exact:!0}),Object(d.jsx)(r.a,{path:"/optimization",exact:!0,component:I})]})},q=a(85),E=a(74),G=a.n(E),H=a(200);function X(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return new Promise((function(t){return setTimeout((function(){return t({data:e})}),500)}))}Object(q.b)("counter/fetchCount",function(){var e=Object(H.a)(G.a.mark((function e(t){var a;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X(t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var Y=Object(q.c)({name:"counter",initialState:{value:0,status:"idle"},reducers:{increment:function(e){e.value+=1},decrement:function(e){e.value-=1},incrementByAmount:function(e,t){e.value+=t.payload}}}),_=Y.actions,Q=(_.increment,_.decrement,_.incrementByAmount,Y.reducer),U=Object(q.a)({reducer:{counter:Q}}),V=a(202);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(V.a,{store:U,children:Object(d.jsx)(J.a,{children:Object(d.jsx)(r.c,{children:Object(d.jsx)(F,{})})})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[376,1,2]]]);
//# sourceMappingURL=main.feb3e35f.chunk.js.map